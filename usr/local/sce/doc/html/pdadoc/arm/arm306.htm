<HTML>
<HEAD>
  <META NAME="GENERATOR" CONTENT="Adobe PageMill 3.0J Win">
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=x-sjis">
  <TITLE>arm306</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">

<P><A HREF="arm_gtoc.htm">[総目次]</A> <A HREF="arm300.htm">[章目次]</A>
<A HREF="arm305.htm">[前]</A> <A HREF="arm307.htm">[次]</A> <A 
HREF="arm_inde.htm">[インデックス]</A></P>

<H2><FONT COLOR="#996633">ARM Architecture Reference Manual</FONT><BR>
<HR ALIGN=LEFT></H2>

<H3>3.6 <A NAME="anchor2726005"></A>乗算命令</H3>

<BLOCKQUOTE>
  <P>ARMには以下の2つのクラスの乗算命令があります</P>
  <UL>
    <LI>ノーマル、32ビット結果
    <LI>ロング、64ビット結果
  </UL>
  <P>すべての乗算命令は、乗算器への入力として2つのレジスタ・オペランドをとります。ARMはシフトおよび加算、またはシフトおよび反転減算命令の効率を考慮して、定数乗算命令は直接サポートしていません。</P>
</BLOCKQUOTE>

<H4>3.6.1 <A NAME="anchor1767871"></A>ノーマル乗算<A NAME="anchor734283"></A></H4>

<BLOCKQUOTE>
  <P>32ビットの結果を生成する乗算命令は以下の2つです。</P>
  <P>MUL 2つのレジスタの値<A NAME="anchor762809"></A>を乗算し、結果を32ビットに切り捨てて第3レジスタにストアします。<BR>
  MLA 2つのレジスタの値を乗算し、第3レジスタの値を加算し、結果を32ビットに切り捨てて第4レジスタにストアします（すなわち、積和演算を実行します）。</P>
  <P>どちらの乗算命令もオプションでN（ネガティブ）およびZ（ゼロ）のコンディション・コード・フラグをセットできます。符号付きと符号なしの区別はありません。結果の最下位32ビットだけがデスティネーション・レジスタにストアされ、オペランドの符号はこの値には影響しません。</P>
  <PRE>MUL     R4, R2, R1     ; Set R4 to value of R2 multiplied by R1
MULS    R4, R2, R1     ; R4 = R2 x R1, set N and Z flags
MLA     R7, R8, R9, R3 ; R7 = R8 x R9 + R3</PRE>
</BLOCKQUOTE>

<H4>3.6.2 <A NAME="anchor1768645"></A>ロング乗算<A NAME="anchor738027"></A></H4>

<BLOCKQUOTE>
  <P>64ビットの結果を生成する乗算命令（ロング乗算）が4つあります。</P>
  <P>このうち2つは2つのレジスタの値を乗算し、64ビットの結果を第3および第4レジスタにストアします。符号付き（SMULL）および符号なし（UMULL）命令があります。（符号付き命令は、ソース・オペランドの一方または両方が負の場合は、最上位32ビットに異なる結果を生じます）。</P>
  <P>残りの2つは2つのレジスタの値を乗算し、これに第3および第4レジスタからの64ビット値を加算して、64ビットの結果をこれらのレジスタ（第3および第4）に戻します。この場合も符号付き（SMLAL）および符号なし（UMLAL）命令があります。これらの命令はロング積和演算を実行します。</P>
  <P>4つのロング乗算命令は、オプションでN（ネガティブ）およびN（ゼロ）のコンディション・コード・フラグをセットします。</P>
  <PRE>SMULL   R4, R8, R2, R3  ; R4 = bits 0 to 31 of R2 x R3
                        ; R8 = bits 32 to 63 of R2 x R3
UMULL   R6, R8, R0, R1  ; R8, R6 = R0 x R1
UMLAL   R5, R8, R0, R1  ; R8, R5 = R0 x R1 + R8, R5</PRE>
</BLOCKQUOTE>

<H4>3.6.3 <A NAME="anchor1794143"></A>乗算命令の一覧</H4>

<BLOCKQUOTE>
  <P><A HREF="a_mla.htm"><B>MLA</B></A> 積和<BR>
  <B><A HREF="a_mul.htm">MUL</A></B> 乗算<BR>
  <B><A HREF="a_smlal.htm">SMLAL</A></B> 符号付き積和ロング<BR>
  <B><A HREF="a_smull.htm">SMULL</A></B> 符号付き乗算ロング<BR>
  <B><A HREF="a_umlal.htm">UMLAL</A></B> 符号なし積和ロング<BR>
  <B><A HREF="a_umull.htm">UMULL</A></B> 符号なし乗算ロング<BR>
  </P>
</BLOCKQUOTE>

<P><HR ALIGN=LEFT><BR>
<A HREF="arm_gtoc.htm">[総目次]</A> <A HREF="arm300.htm">[章目次]</A>
<A HREF="arm305.htm">[前]</A> <A HREF="arm307.htm">[次]</A> <A 
HREF="arm_inde.htm">[インデックス]</A>

</BODY>
</HTML>
