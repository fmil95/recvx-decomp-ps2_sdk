<HTML>
<HEAD>
<TITLE> パケットライブラリ</TITLE>
<META HTTP-EQUIV=Content-Type CONTENT="text/html; charset=Shift_JIS">
</HEAD>
<BODY BGCOLOR=#ffffff TEXT=#000000 LINK=#0000ff ALINK=#ffff00 VLINK=#800080>
<TABLE WIDTH="100%">
<TR><TD>
<H4>"PlayStation 2" Programmer Tool Runtime Library Release 2.0</H4>
</TD><TD ALIGN="right">
<FORM><SELECT NAME=list onchange=location.href=this.form.list.options[this.form.list.selectedIndex].value><OPTION VALUE="libpkt.htm" SELECTED> パケットライブラリ
<OPTION VALUE="../../index.htm">TOP MENU
<OPTION VALUE="../../general/index.htm">EE/IOP共通文書
<OPTION VALUE="../../ee/overview/index.htm">EE Overview
<OPTION VALUE="../../ee/libref/index.htm">EE Library Reference
<OPTION VALUE="../../iop/overview/index.htm">IOP Overview
<OPTION VALUE="../../iop/libref/index.htm">IOP Library Reference
<OPTION VALUE="../../deci2/index.htm">DECI2
<OPTION VALUE="../../tool/index.htm">各種ツール
<OPTION VALUE="../../pdadoc/pda/index.htm">PDA関連
</SELECT>
</FORM>
</TD></TR></TABLE>
<HR NOSHADE SIZE=8>
<A NAME=Heading2>
<H1>
パケットライブラリ<BR>
</H1>
</A>
<DIV align=center>
<TABLE border=0 bgcolor=#D6E0BA width=90%><TR><TD>
<H2><U>
        <B>目次</B>
</U></H2>

<blockquote>
<UL>
<P><A HREF="#Heading3_1">  1 ライブラリ概要<BR></A>
    <UL>
    <A HREF="#Heading4_1_1"> 概要<BR></A><BR>
    <A HREF="#Heading4_1_2"> 関連ファイル<BR></A><BR>
    <A HREF="#Heading4_1_3"> 参考資料<BR></A><BR>
    </UL>
</UL>
</blockquote>
</TD></TR></TABLE>
</DIV>
<DIV align=center>

<!-- 見出し 2,章見出し -->
<A NAME="Heading2">
</DIV>

<!-- 見出し 3,節見出し -->
<A NAME="Heading3_1">
<H2>
<A HREF="#Top"><IMG SRC = gif/link.gif BORDER = 0></A> 1 <B>ライブラリ概要</B>
<HR NOSHADE>
</H2>
</A>

<blockquote>
</blockquote>

<!-- 見出し 4,小見出し -->
<H3>
<A NAME="Heading4_1_1">
<A HREF="#Heading3_1"> 1. </A>1 <B>概要</B>
</A>
</H3>
<blockquote>
    libpktは、Source Chain Mode用のDMAパケット、VIFのUNPACKパケット、VIFのDIRECTパケット、GIFパケット（GSプリミティブ）の作成を支援するライブラリです。これらのパケットはいずれも先頭にタグ情報を持ち、データのサイズがタグに記録される構造になっているため、作成時にデータのサイズを把握している必要があります。<BR>
    <BR>
<P>
<IMG SRC ="gif/pktn1.gif">
<P>
    <BR>
    libpktを利用すると、パケットのオープン／データの追加／パケットのクローズ（ターミネート）という手順を踏むことによって、パケットに順次追加するデータサイズがカウントされ、適切なタグ情報が自動生成されます。同時に、データアライメントも適切に自動調整されます。<BR>
    <BR>
<P>
<IMG SRC ="gif/pktn2.gif">
<P>
    <BR>
    libpktは次に示すように、DMAチャネル（デバイス）ごとの関数群に分けて構成されています。これは同時に、それぞれのDMAチャネルで取り扱うパケットの階層構造に応じた区分でもあります。パケットのオープン／クローズは階層構造にしたがって行う必要があります。<BR>
    <BR>
<TABLE BORDER>
<TR>
<TD valign="TOP" bgcolor="#cccccc"><B>関数群</B></TD>
<TD valign="TOP" bgcolor="#cccccc"><B>DMAチャネル</B></TD>
<TD valign="TOP" bgcolor="#cccccc"><B>デバイス</B></TD>
<TD valign="TOP" bgcolor="#cccccc"><B>管理対象</B></TD>
</TR>
<TR>
<TD valign="TOP">sceVif0Pk...</TD>
<TD valign="TOP">ch-0</TD>
<TD valign="TOP">VIF0</TD>
<TD valign="TOP">DMAパケット/VIFパケット</TD>
</TR>
<TR>
<TD valign="TOP">sceVif1Pk...</TD>
<TD valign="TOP">ch-1</TD>
<TD valign="TOP">VIF1</TD>
<TD valign="TOP">DMAパケット/VIFパケット/<BR>GIFパケット</TD>
</TR>
<TR>
<TD valign="TOP">sceGifPk...</TD>
<TD valign="TOP">ch-2</TD>
<TD valign="TOP">GIF</TD>
<TD valign="TOP">DMAパケット/GIFパケット</TD>
</TR>
<TR>
<TD valign="TOP">sceDmaPk...</TD>
<TD valign="TOP">その他</TD>
<TD valign="TOP">-</TD>
<TD valign="TOP">DMAパケット</TD>
</TR>
</TABLE>
<BR>
    <BR>
    なお、libpktのほかにDMAパケットの生成を支援するライブラリとしてlibdmaがあります。<BR>
</blockquote>

<!-- 見出し 4,小見出し -->
<H3>
<A NAME="Heading4_1_2">
<A HREF="#Heading3_1"> 1. </A>2 <B>関連ファイル</B>
</A>
</H3>
<blockquote>
    libpktに必要なファイルは次のとおりです。<BR>
    <BR>
<DIV align="center">
<TABLE BORDER>
<TR>
<TD valign="TOP" bgcolor="#cccccc"><B>カテゴリ</B></TD>
<TD valign="TOP" bgcolor="#cccccc"><B>ファイル名</B></TD>
</TR>
<TR>
<TD valign="TOP">ライブラリファイル</TD>
<TD valign="TOP">libpkt.a</TD>
</TR>
<TR>
<TD valign="TOP">ヘッダファイル</TD>
<TD valign="TOP">libdmapk.h,libgifpk.h,libvifpk.h</TD>
</TR>
</TABLE>
</DIV><BR>
    <BR>
</blockquote>

<!-- 見出し 4,小見出し -->
<H3>
<A NAME="Heading4_1_3">
<A HREF="#Heading3_1"> 1. </A>3 <B>参考資料</B>
</A>
</H3>
<blockquote>
    DMAパケットについては、「EE User's Manual」の「3.2.4 Source Chain Mode」、「3.6 DMAtag」を参照してください。<BR>
    VIFパケットについては、同じく「EE User's Manual」の「4.3 VIFによるデータ転送」を参照してください。<BR>
    GIFパケットについては、同じく「EE User's Manual」の「5.2 データフォーマット」を参照してください。
</blockquote>
<A HREF="#Top"><IMG SRC = gif/link.gif BORDER = 0></A>
<HR>
<DIV ALIGN="right">
    Copyright (c) 2000 Sony Computer Entertainment Inc.  All Rights Reserved.<BR>
    SCEI CONFIDENTIAL
</DIV>
</BODY>
</HTML>
