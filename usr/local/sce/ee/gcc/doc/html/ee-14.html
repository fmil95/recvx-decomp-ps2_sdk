<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="ee.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE> Assembler Listing from Sample Code</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<DIV>
<TABLE CLASS="ECOS" WIDTH="98%" BORDER="0" ALIGN="LEFT" CELLPADDING="1">
<TR>
<TH COLSPAN="3" ALIGN="center">
<P CLASS="Gotos">
Assembler Listing from Sample Code</P>
</TH></TR>
<TR><TD  ALIGN="center">
<P CLASS="Gotos">
<A HREF="ee-9.html">
To&nbsp;main&nbsp;page</A>
</P></TD>
<TD  ALIGN="center">
<P CLASS="Gotos">
<A HREF="ee-13.html">
To&nbsp;previous&nbsp;page</A></P></TD>
<TD ALIGN="center">
<P CLASS="Gotos">
<A HREF="ee-15.html">
To&nbsp;next&nbsp;page</A></P>
</TD>
</TR></TABLE>
<P ALIGN="LEFT">&nbsp;</P>
<BR>
<BR>
<HR ALIGN="center">
</DIV>
<H2 CLASS="Heading1">
<A NAME="pgfId-514093"></A>Assembler Listing from Sample Code</H2>
<P CLASS="Body">
<A NAME="pgfId-514094"></A>If you want to see how the compiler implements certain language constructs, such as function calls, or if you want to learn more about assembly language, you can produce an assembly listing of a source module.</P>
<P CLASS="Body">
<A NAME="pgfId-514096"></A>Use the following command to produce an <A NAME="marker-514095"></A>assembler listing:</P>
<P CLASS="CodeExample">
<A NAME="pgfId-514100"></A><STRONG CLASS="CodeOutput">
%</STRONG>
 <TT CLASS="Code">
ee</TT>
-gcc -c -g -O2 -Wa,-alh sky_main.c</P>
<P CLASS="Body">
<A NAME="pgfId-514101"></A>The compiler option <TT CLASS="Code">
-c </TT>
compiles without linking. The compiler option <TT CLASS="Code">
-g </TT>
gives the assembler the necessary debugging information. The <TT CLASS="Code">
-O2 </TT>
option produces more fully optimized code. The option <TT CLASS="Code">
-Wa </TT>
tells the compiler to pass along the comma-separated list of options that follow it to the assembler. The assembler option <TT CLASS="Code">
-alh </TT>
requests a listing with high-level language and assembler language interspersed. </P>
<P CLASS="Body">
<A NAME="pgfId-483344"></A>Here is a partial excerpt of the output: </P>
<TABLE>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514104"></A><STRONG CLASS="CodeOutput">
103:sky_main.c      **** </STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514106"></A><STRONG CLASS="CodeOutput">
104:sky_main.c      **** int main() </STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514108"></A><STRONG CLASS="CodeOutput">
105:sky_main.c      **** {</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514110"></A><STRONG CLASS="CodeOutput">
341                .stabn 68,0,105,$LM35</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514112"></A><STRONG CLASS="CodeOutput">
342                .stabs &quot;sky_main.c&quot;,132,0,0,$Ltext0</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514114"></A><STRONG CLASS="CodeOutput">
343                .ent   main</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514116"></A><STRONG CLASS="CodeOutput">
344                 main:</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514118"></A><STRONG CLASS="CodeOutput">
345                .frame  $fp,32,$31	</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514120"></A><STRONG CLASS="CodeOutput">
346                .mask  0xc0000000,-16</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514122"></A><STRONG CLASS="CodeOutput">
347                .fmask0x00000000,0</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514124"></A><STRONG CLASS="CodeOutput">
348 020c E0FFBD27   subu  $sp,$sp,32</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514126"></A><STRONG CLASS="CodeOutput">
349 0210 1000BF7F   sq $31,16($sp)</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514128"></A><STRONG CLASS="CodeOutput">
350 0214 0000BE7F   sq $fp,0($sp)</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514130"></A><STRONG CLASS="CodeOutput">
351 0218 2DF0A003   move  $fp,$sp</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514132"></A><STRONG CLASS="CodeOutput">
352 021c 0000000C   jal __main</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514134"></A><STRONG CLASS="CodeOutput">
352      00000000   </STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514136"></A><STRONG CLASS="CodeOutput">
353                 $LM36:</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514138"></A><STRONG CLASS="CodeOutput">
106:sky_main.c      ****   enable_cop2();</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514140"></A><STRONG CLASS="CodeOutput">
354                .stabn 68,0,106,$LM36</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514142"></A><STRONG CLASS="CodeOutput">
355 0224 3500000C   jal enable_cop2</STRONG>
</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CodeScreen">
<A NAME="pgfId-514144"></A><STRONG CLASS="CodeOutput">
355      00000000 </STRONG>
</P>
</TD>
</TR>
</TABLE>
<TABLE>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
</TD>
</TR>
</TABLE>
<HR ALIGN="center">
<TABLE CLASS="ECOS" WIDTH="98%" BORDER="0" ALIGN="LEFT" CELLPADDING="1">
<TR><TH COLSPAN="3" ALIGN="center">
<P CLASS="Gotos">Assembler Listing from Sample Code</P>
</TH></TR>
<TR><TD  ALIGN="center">
<P CLASS="Gotos">
<A HREF="ee-9.html">
To&nbsp;main&nbsp;page</A></P></TD>
<TD  ALIGN="center">
<P CLASS="Gotos">
<A HREF="ee-13.html">
To&nbsp;previous&nbsp;page</A></P></TD>
<TD  ALIGN="center">
<P CLASS="Gotos">
<A HREF="ee-15.html">
To&nbsp;next&nbsp;page</A></P></TD>
</TR></TABLE>
</BODY>
</HTML>
